<div class="admin-container">
  <div class="container-fluid py-5">
    <h1 class="page-title mb-5">Admin Dashboard</h1>

    <div class="loading" *ngIf="loading">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <div class="alert alert-danger" *ngIf="error">{{ error }}</div>

    <div *ngIf="!loading && !error && stats">
      <div class="row g-4 mb-5">
        <div class="col-md-3">
          <div class="stat-card">
            <div class="stat-icon users">
              <i class="bi bi-people"></i>
            </div>
            <h3>{{ stats.users?.total || 0 }}</h3>
            <p>Total Users</p>
            <small class="text-success">{{ stats.users?.active || 0 }} active</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stat-card">
            <div class="stat-icon students">
              <i class="bi bi-person-badge"></i>
            </div>
            <h3>{{ stats.students?.total || 0 }}</h3>
            <p>Students</p>
            <small class="text-info">{{ stats.students?.passedTest || 0 }} passed test</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stat-card">
            <div class="stat-icon enrollments">
              <i class="bi bi-clipboard-check"></i>
            </div>
            <h3>{{ stats.enrollments?.total || 0 }}</h3>
            <p>Enrollments</p>
            <small class="text-warning">{{ stats.enrollments?.pending || 0 }} pending</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="stat-card">
            <div class="stat-icon content">
              <i class="bi bi-book"></i>
            </div>
            <h3>{{ stats.content?.references || 0 }}</h3>
            <p>References</p>
            <small class="text-primary">{{ stats.content?.quizzes || 0 }} quizzes</small>
          </div>
        </div>
      </div>

      <div class="row g-4">
        <div class="col-lg-6">
          <div class="admin-card">
            <h3 class="card-title">Quick Actions</h3>
            <div class="action-links">
              <a routerLink="/admin/users" class="action-link">
                <i class="bi bi-people"></i> Manage Users
              </a>
              <a routerLink="/admin/enrollments" class="action-link">
                <i class="bi bi-clipboard-check"></i> Review Enrollments
              </a>
              <a routerLink="/admin/content" class="action-link">
                <i class="bi bi-book"></i> Manage Content
              </a>
              <a routerLink="/admin/analytics" class="action-link">
                <i class="bi bi-bar-chart"></i> View Analytics
              </a>
            </div>
          </div>
        </div>

        <div class="col-lg-6">
          <div class="admin-card">
            <h3 class="card-title">System Status</h3>
            <div class="status-list">
              <div class="status-item">
                <span class="status-dot success"></span>
                <span>All systems operational</span>
              </div>
              <div class="status-item">
                <span class="status-dot success"></span>
                <span>Database connected</span>
              </div>
              <div class="status-item">
                <span class="status-dot success"></span>
                <span>API server running</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
