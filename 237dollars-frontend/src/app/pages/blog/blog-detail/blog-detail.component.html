<div class="blog-detail-page">
  <div class="blog-detail-container">
    <!-- Loading State -->
    <div class="loading-state" *ngIf="loading">
      <div class="spinner-large"></div>
      <p class="loading-text">Maqola yuklanmoqda...</p>
    </div>

    <!-- Error State -->
    <div class="alert alert-error" *ngIf="error && !loading">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <span>{{ error }}</span>
    </div>

    <!-- Article Content -->
    <div *ngIf="!loading && !error && post" class="article-wrapper">
      <!-- Back Button -->
      <button routerLink="/blog" class="btn-back">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
        <span>Blogga qaytish</span>
      </button>

      <!-- Article -->
      <article class="blog-article">
        <!-- Article Header -->
        <header class="article-header">
          <div class="header-badge">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>{{ post.createdAt | date:'MMMM dd, yyyy' }}</span>
          </div>
          <h1 class="article-title">{{ post.title }}</h1>
        </header>

        <!-- Article Body -->
        <div class="article-body" [innerHTML]="sanitizedContent"></div>

        <!-- Article Footer -->
        <footer class="article-footer">
          <div class="footer-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
          </div>
          <span class="footer-text">Oxirgi yangilangan sana {{ post.updatedAt | date:'MMMM dd, yyyy' }}</span>
        </footer>
      </article>

      <!-- Related Articles CTA -->
      <div class="related-cta">
        <div class="cta-content">
          <div class="cta-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
              <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
            </svg>
          </div>
          <div class="cta-text">
            <h3>Ko'proq maqolalarni o'rganing</h3>
            <p>Ko'proq ta'lim kontenti va tushunchalarni kashf eting</p>
          </div>
        </div>
        <button routerLink="/blog" class="btn-cta">
          <span>Barcha maqolalarni ko'rish</span>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
